{"version":3,"sources":["environments.js","Common/Services/LearnService.js","Components/Main/MainForm.js","Components/Main/MainList.js","Common/Services/TodolistService.js","Components/Main/Main.js","Components/Components.js","App.js","index.js"],"names":["module","exports","APPLICATION_ID","JAVASCRIPT_KEY","SERVER_URL","url","MainForm","onChange","onClick","text","type","MainList","useState","todos","setTodos","todo","setTodo","name","setName","useEffect","Todo","Parse","Object","extend","Query","find","then","results","getAllTodos","console","log","id","get","result","getById","add","setAdd","remove","setRemove","Name","set","save","createTodo","newTodo","length","newTodos","filter","destroy","removeTodo","users","setUsers","axios","response","data","catch","err","map","e","keys","preventDefault","target","value","user","lastName","firstName","email","MainModule","Components","Main","initialize","Env","serverURL","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.29d65d08.chunk.js","sourcesContent":["module.exports = {\r\n  APPLICATION_ID: \"YBpodzYNeoYlcMzMBNaFxaBAbbkNwi3gdTKrnSXP\",\r\n  JAVASCRIPT_KEY: \"0FnTiRbRc4e1oK5Unav0XBwRgqpiuPYVdCJlL3NS\",\r\n  SERVER_URL: \"https://parseapi.back4app.com/\"\r\n};\r\n\r\n// Auto generated API env, see 23:35, lecture on 07/01\r\n// https://dashboard.back4app.com/apidocs/YBpodzYNeoYlcMzMBNaFxaBAbbkNwi3gdTKrnSXP?javascript#initializing-parse-sdk\r\n","// import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst url = \"https://my-json-server.typicode.com/TimrayZ/demo\";\r\n\r\n// const url = \"http://localhost:3004\";\r\n\r\nexport const createUser = (id, firstName, lastName, email, password) => {\r\n  return axios({\r\n    method: \"post\",\r\n    url: `${url}/users`,\r\n    data: {\r\n      id,\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password\r\n    },\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    json: true\r\n  })\r\n    .then((response) => {\r\n      console.log(\"POST response: \", response);\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"POST error: \", err);\r\n    });\r\n};\r\n\r\nexport const getAllUsers = () => {\r\n  return axios\r\n    .get(`${url}/users`)\r\n    .then((response) => {\r\n      // console.log(response.data);\r\n      return response.data;\r\n    })\r\n    .catch((err) => {\r\n      // console.log(\"GET Error: \", err);\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\n/* STATELESS CHILD COMPONENT */\r\nconst MainForm = ({ onChange, onClick }) => {\r\n  return (\r\n    <div>\r\n      <hr />\r\n      {/* This is the main form child component. */}\r\n      Click submit to add a todo\r\n      <form>\r\n        <input text=\"test\" onChange={onChange} />\r\n        <button type=\"submit\" onClick={onClick}>\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  getAllTodos,\r\n  getById,\r\n  createTodo,\r\n  removeTodo\r\n} from \"../../../src/Common/Services/TodolistService\";\r\nimport { createUser, getAllUsers } from \"../../../src/Common/Services/LearnService\";\r\nimport MainForm from \"./MainForm\";\r\n\r\n/* STATEFUL PARENT COMPONENT */\r\nconst MainList = () => {\r\n  // Variables in the state to hold data\r\n  const [todos, setTodos] = useState([]);\r\n  const [todo, setTodo] = useState([]);\r\n  const [name, setName] = useState();\r\n\r\n  // UseEffect to run when the page loads to\r\n  // obtain async data and render\r\n  useEffect(() => {\r\n    getAllTodos().then((todos) => {\r\n      console.log(todos);\r\n      setTodos(todos);\r\n    });\r\n\r\n    getById(\"iMnRXuVnUU\").then((todo) => {\r\n      console.log(todo);\r\n      setTodo(todo);\r\n    });\r\n  }, []);\r\n\r\n  // Flags in the state to watch for add/remove updates\r\n  const [add, setAdd] = useState(false);\r\n  const [remove, setRemove] = useState(\"\");\r\n\r\n  // UseEffect that runs when changes\r\n  // are made to the state variables/flags\r\n  useEffect(() => {\r\n    // Check for add flag and make sure name state variable is defined\r\n    if (name && add) {\r\n      createTodo(name).then((newTodo) => {\r\n        setAdd(false);\r\n        // Add the newly created todo to the todos array\r\n        // to render the new list of todos (thru spread/concatination)\r\n        setTodos([...todos, newTodo]);\r\n\r\n        //Note: CANNOT MANIPULATE STATE ARRAY DIRECTLY\r\n        //todos = todos.push(todo)\r\n        //setTodos(todos)\r\n      });\r\n    }\r\n\r\n    // Check if remove state variable is holding an ID\r\n    if (remove.length > 0) {\r\n      //Filter the old todos list to take out selected todo\r\n      const newTodos = todos.filter((todo) => todo.id !== remove);\r\n      setTodos(newTodos);\r\n\r\n      removeTodo(remove).then(() => {\r\n        console.log(\"Removed todo with ID: \", remove);\r\n      });\r\n      // Reset remove state variable\r\n      setRemove(\"\");\r\n    }\r\n  }, [name, todos, add, remove]);\r\n\r\n  // Handler to handle event passed from child submit button\r\n  const onClickHandler = (e) => {\r\n    e.preventDefault();\r\n    // Trigger add flag to create todo and\r\n    // re-render list with new todo\r\n    setAdd(true);\r\n  };\r\n\r\n  // Handler to track changes to the child input text\r\n  const onChangeHandler = (e) => {\r\n    e.preventDefault();\r\n    console.log(e.target.value);\r\n    // Continuously updating name to be added on submit\r\n    setName(e.target.value);\r\n  };\r\n\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getAllUsers().then((users) => {\r\n      setUsers(users);\r\n    });\r\n  }, [users]);\r\n\r\n  return (\r\n    <div>\r\n      <hr />\r\n      This is the main list parent component.\r\n      <div>\r\n        {todos.length > 0 && (\r\n          <ul>\r\n            {todos.map((todo) => (\r\n              <div>\r\n                <span>\r\n                  {/* Using getter for todo Object to display name */}\r\n                  <li key={todo.id}>{todo.get(\"name\")}</li>{\" \"}\r\n                  {/* Button with inline click handler to obtain \r\n                  instance of todo for remove state variable*/}\r\n                  <button\r\n                    onClick={(e) => {\r\n                      // Set remove variable and trigger re-render\r\n                      setRemove(todo.id);\r\n                    }}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <p> Todo by ID: </p>\r\n        {/* Check that the todo object exists */}\r\n        {Object.keys(todo).length > 0 && (\r\n          <ul>\r\n            {/* Using getter for todo Object to display name */}\r\n            {todos.map((todo) => (\r\n              <li key={\"1\" + todo.id}> {todo.id} </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n      {/* Stateless Child component passing up events from form */}\r\n      <MainForm onClick={onClickHandler} onChange={onChangeHandler} />\r\n      Finished items:\r\n      {users.length > 0 && (\r\n        <ul>\r\n          {users.map((user) => (\r\n            <li key={user.email}>\r\n              {user.lastName}, {user.firstName}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainList;\r\n","import Parse from \"parse\";\r\n/* SERVICE FOR PARSE SERVER OPERATIONS */\r\n\r\n// CREATE operation - new todo with Name\r\nexport const createTodo = (Name) => {\r\n  console.log(\"Creating: \", Name);\r\n  const Todo = Parse.Object.extend(\"Todo\");\r\n  const todo = new Todo();\r\n  // using setter to UPDATE the object\r\n  todo.set(\"name\", Name);\r\n  return todo.save().then((result) => {\r\n    // returns new Todo object\r\n    return result;\r\n  });\r\n};\r\n\r\n// READ operation - get todo by ID\r\nexport const getById = (id) => {\r\n  const Todo = Parse.Object.extend(\"Todo\");\r\n  const query = new Parse.Query(Todo);\r\n  return query.get(id).then((result) => {\r\n    // return Todo object with objectId: id\r\n    return result;\r\n  });\r\n};\r\n\r\n// READ operation - get all todos in Parse class Todo\r\nexport const getAllTodos = () => {\r\n  const Todo = Parse.Object.extend(\"Todo\");\r\n  const query = new Parse.Query(Todo);\r\n  return query.find().then((results) => {\r\n    // returns array of Todo objects\r\n    return results;\r\n  });\r\n};\r\n\r\n// DELETE operation - remove todo by ID\r\nexport const removeTodo = (id) => {\r\n  const Todo = Parse.Object.extend(\"Todo\");\r\n  const query = new Parse.Query(Todo);\r\n  return query.get(id).then((todo) => {\r\n    todo.destroy();\r\n  });\r\n};\r\n","import React from \"react\";\r\nimport MainList from \"./MainList\";\r\n\r\n/* MAIN MODULE WITH STATEFUL PARENT AND STATELESS CHILD */\r\nconst MainModule = () => {\r\n  return (\r\n    <div>\r\n      This is the main module.\r\n      <MainList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainModule;\r\n","import React from \"react\";\r\nimport MainModule from \"./Main/Main.js\";\r\n\r\nconst Components = () => {\r\n  return (\r\n    <div>\r\n      <MainModule />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Components;\r\n","import React from \"react\";\r\nimport Components from \"./Components/Components.js\";\r\nimport * as Env from \"./environments\";\r\nimport Parse from \"parse\";\r\n\r\nParse.initialize(Env.APPLICATION_ID, Env.JAVASCRIPT_KEY);\r\nParse.serverURL = Env.SERVER_URL;\r\n\r\nfunction App() {\r\n  return <Components />;\r\n}\r\n\r\nexport default App;\r\n","import { StrictMode } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n  rootElement\r\n);\r\n"],"sourceRoot":""}